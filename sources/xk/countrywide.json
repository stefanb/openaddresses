{
    "coverage": {
        "ISO 3166": {
            "alpha2": "XK",
            "country": "Kosovo"
        },
        "country": "Kosovo",
        "geometry":{"type":"Polygon","coordinates":[[[20.76216,42.05186],[20.71731,41.84711],[20.59023,41.85541],[20.52295,42.21787],[20.28374,42.32025],[20.0707,42.58863],[20.25758,42.81275],[20.49679,42.88469],[20.63508,43.21671],[20.81448,43.27205],[20.95651,43.13094],[21.143395,43.068685],[21.27421,42.90959],[21.43866,42.86255],[21.63302,42.67717],[21.77505,42.6827],[21.66292,42.43922],[21.54332,42.32025],[21.576636,42.245224],[21.3527,42.2068],[20.76216,42.05186]]]}
    },
    "data": "https://www.dropbox.com/s/3vgtlgkkiadkt7d/xk_addr.csv?dl=1",
    "type": "http",
    "conform": {
        "type": "csv",
        "lat": "POINT_Y",
        "lon": "POINT_X",
        "number": {
            "function": "regexp",
            "field": "ADDR1",
            "pattern": "^(?:.* )(\\d+), (?:.*), (?:.*?), Kosova$"
        },
        "street": {
            "function": "regexp",
            "field": "ADDR1",
            "pattern": "^(.* )(?:\\d+), (?:.*), (?:.*?), Kosova$"
        },
        "city": {
            "function": "regexp",
            "field": "ADDR1",
            "pattern": "^(?:.*), (.+), (?:.*?), Kosova$"
        },
        "district": {
            "function": "regexp",
            "field": "ADDR1",
            "pattern": "^(?:.*), (?:.*), (.+?), Kosova$"
        }
    },
    "test": {
        "enabled": true,
        "description": "these are the tests that exercise valid inputs for Kosovo countrywide",
        "acceptance-tests": [
            {
                "description": "input w/o street/number",
                "inputs": {
                    "ADDR1": ", Biti e Epërme, SHTËRPCË, Kosova",
                    "POINT_X": "21.212121",
                    "POINT_Y": "12.121212"
                },
                "expected": {
                    "number": "",
                    "street": "",
                    "city": "Biti e Epërme",
                    "district": "SHTËRPCË"
                }
            },
            {
                "description": "input w/street+number",
                "inputs": {
                    "ADDR1": "1 MAJ 10, Mogillë, KLLOKOT, Kosova",
                    "POINT_X": "21.212121",
                    "POINT_Y": "12.121212"
                },
                "expected": {
                    "number": "10",
                    "street": "1 MAJ",
                    "city": "Mogillë",
                    "district": "KLLOKOT"
                }
            },
            {
                "description": "input w/o city",
                "inputs": {
                    "ADDR1": "1 MAJI 1999 71, , GJAKOVË, Kosova",
                    "POINT_X": "21.212121",
                    "POINT_Y": "12.121212"
                },
                "expected": {
                    "number": "71",
                    "street": "1 MAJI 1999",
                    "city": "",
                    "district": "GJAKOVË"
                }
            },
            {
                "description": "input w/o street",
                "inputs": {
                    "ADDR1": "1, Gjilan, GJILAN, Kosova",
                    "POINT_X": "21.212121",
                    "POINT_Y": "12.121212"
                },
                "expected": {
                    "number": "",
                    "street": "",
                    "city": "Gjilan",
                    "district": "GJILAN"
                }
            }
        ]
    }
}
